import requests

def get_coin_price(coin):
    coin = coin.lower().replace(" ","-")
    url = f"https://api.coinmarketcap.com/data-api/v3/cryptocurrency/market-pairs/latest?slug={coin}&start=1&limit=50"

    headers = {
        "User-Agent" : "Mozilla/5.0",
        "Accept" : "application/json"
    }

    response = requests.get(url, headers = headers)

    if response.status_code != 200:
        return "False coin name or API is blocked"
    data = response.json()

    try:
        pairs = data["data"]["marketPairs"]
        binance_pairs = [
            p for p in pairs
            if "binance" in p["exchangeName"].lower()
        ]
        if not binance_pairs:
            return "Binance price not found"
        price = binance_pairs[0]["price"]
        return price
    except:
        return "Cannot find coin"

coin = input("Enter the coin name: ")
result = get_coin_price(coin)
print("\nResult: ", result)
